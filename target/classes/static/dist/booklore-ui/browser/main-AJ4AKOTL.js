import{$ as q,B as L,C as _,D as d,E as le,F as ce,G as de,H as K,I as l,J as A,K as ue,L as w,M as k,N as E,O as B,P as Q,R as O,S as D,T as pe,U as he,V as me,W as fe,X as ge,Y as _e,Z as Ce,a as $,aa as H,b as ee,c as te,d as ie,da as W,e as M,f as ne,g as oe,h as C,ha as ye,i as I,j as re,ja as ve,k as y,ka as P,l as v,la as z,m as b,ma as G,n as S,na as U,o as Z,oa as R,pa as T,q as c,r as h,s as g,sa as be,t as se,u as p,v as ae,w as o,x as s,y as m}from"./chunk-QOOEKF2I.js";var Ve=["input"];function je(t,u){if(t&1){let e=L();o(0,"span")(1,"input",2,0),_("click",function(n){y(e);let a=d();return v(a.onClick(n))})("paste",function(n){let a=y(e).index,r=d();return v(r.onPaste(n,a))})("input",function(n){let a=y(e).index,r=d();return v(r.onInput(n,a))})("keydown",function(n){let a=y(e).index,r=d();return v(r.onKeydown(n,a))}),s()()}if(t&2){let e=d();ae("code-hidden",e.isCodeHidden),c(),p("type",e.inputType)("disabled",e.disabled),se("inputmode",e.inputMode)("autocapitalize",e.autocapitalize)}}var Se=new ne("CodeInputComponentConfig"),xe={codeLength:4,inputType:"tel",inputMode:"numeric",initialFocusField:void 0,isCharsCode:!1,isCodeHidden:!1,isPrevFocusableAfterClearing:!0,isFocusingOnLastByClickIfFilled:!1,code:void 0,disabled:!1,autocapitalize:void 0},V=function(t){return t[t.ready=0]="ready",t[t.reset=1]="reset",t}(V||{}),we=(()=>{class t{constructor(e){if(this.isNonDigitsCode=!1,this.codeChanged=new Z,this.codeCompleted=new Z,this.placeholders=[],this.inputs=[],this.inputsStates=[],this.state={isFocusingAfterAppearingCompleted:!1,isInitialFocusFieldEnabled:!1},Object.assign(this,xe),!!e)for(let i in e)e.hasOwnProperty(i)&&xe.hasOwnProperty(i)&&(this[i]=e[i])}ngOnInit(){this.state.isInitialFocusFieldEnabled=!this.isEmpty(this.initialFocusField),this.onCodeLengthChanges()}ngAfterViewInit(){this.inputsListSubscription=this.inputsList.changes.subscribe(this.onInputsListChanges.bind(this)),this.onInputsListChanges(this.inputsList)}ngAfterViewChecked(){this.focusOnInputAfterAppearing()}ngOnChanges(e){e.code&&this.onInputCodeChanges(),e.codeLength&&this.onCodeLengthChanges()}ngOnDestroy(){this.inputsListSubscription&&this.inputsListSubscription.unsubscribe()}reset(e=!1){this.onInputCodeChanges(),this.state.isInitialFocusFieldEnabled&&this.focusOnField(this.initialFocusField),e&&this.emitChanges()}focusOnField(e){if(e>=this._codeLength)throw new Error("The index of the focusing input box should be less than the codeLength.");this.inputs[e].focus()}onClick(e){if(!this.isFocusingOnLastByClickIfFilled)return;let i=e.target,n=this.inputs[this._codeLength-1];i===n||!(this.getCurrentFilledCode().length>=this._codeLength)||setTimeout(()=>n.focus())}onInput(e,i){let n=e.target,a=e.data||n.value;if(this.isEmpty(a))return;if(!this.canInputValue(a)){e.preventDefault(),e.stopPropagation(),this.setInputValue(n,null),this.setStateForInput(n,V.reset);return}let r=a.toString().trim().split("");for(let f=0;f<r.length;f++){let j=f+i;if(j>this._codeLength-1)break;this.setInputValue(this.inputs[j],r[f])}this.emitChanges();let x=i+r.length;if(x>this._codeLength-1){n.blur();return}this.inputs[x].focus()}onPaste(e,i){e.preventDefault(),e.stopPropagation();let n=e.clipboardData?e.clipboardData.getData("text").trim():void 0;if(this.isEmpty(n))return;let a=n.split(""),r=0;for(let x=i;x<this.inputs.length&&r!==a.length;x++){let f=this.inputs[x],j=a[r];if(!this.canInputValue(j)){this.setInputValue(f,null),this.setStateForInput(f,V.reset);return}this.setInputValue(f,j.toString()),r++}this.inputs[i].blur(),this.emitChanges()}onKeydown(e,i){return $(this,null,function*(){let n=e.target,a=this.isEmpty(n.value),r=i-1,x=yield this.isBackspaceKey(e),f=this.isDeleteKey(e);!x&&!f||(e.preventDefault(),this.setInputValue(n,null),a||this.emitChanges(),!(r<0||f)&&(a||this.isPrevFocusableAfterClearing)&&this.inputs[r].focus())})}onInputCodeChanges(){if(!this.inputs.length)return;if(this.isEmpty(this.code)){this.inputs.forEach(n=>{this.setInputValue(n,null)});return}let e=this.code.toString().trim().split(""),i=!0;for(let n of e)if(!this.canInputValue(n)){i=!1;break}this.inputs.forEach((n,a)=>{let r=i?e[a]:null;this.setInputValue(n,r)})}onCodeLengthChanges(){if(this.codeLength)if(this._codeLength=this.codeLength,this._codeLength>this.placeholders.length){let e=Array(this._codeLength-this.placeholders.length).fill(1);this.placeholders.splice(this.placeholders.length-1,0,...e)}else this._codeLength<this.placeholders.length&&this.placeholders.splice(this._codeLength)}onInputsListChanges(e){if(e.length>this.inputs.length){let i=e.filter((a,r)=>r>this.inputs.length-1);this.inputs.splice(this.inputs.length,0,...i.map(a=>a.nativeElement));let n=Array(i.length).fill(V.ready);this.inputsStates.splice(this.inputsStates.length,0,...n)}else e.length<this.inputs.length&&(this.inputs.splice(e.length),this.inputsStates.splice(e.length));this.onInputCodeChanges()}focusOnInputAfterAppearing(){this.state.isInitialFocusFieldEnabled&&(this.state.isFocusingAfterAppearingCompleted||(this.focusOnField(this.initialFocusField),this.state.isFocusingAfterAppearingCompleted=document.activeElement===this.inputs[this.initialFocusField]))}emitChanges(){setTimeout(()=>this.emitCode(),50)}emitCode(){let e=this.getCurrentFilledCode();this.codeChanged.emit(e),e.length>=this._codeLength&&this.codeCompleted.emit(e)}getCurrentFilledCode(){let e="";for(let i of this.inputs)this.isEmpty(i.value)||(e+=i.value);return e}isBackspaceKey(e){return e.key&&e.key.toLowerCase()==="backspace"||e.keyCode&&e.keyCode===8?Promise.resolve(!0):!e.keyCode||e.keyCode!==229?Promise.resolve(!1):new Promise(n=>{setTimeout(()=>{let a=e.target,r=this.getStateForInput(a)===V.reset;r&&this.setStateForInput(a,V.ready),n(a.selectionStart===0&&!r)})})}isDeleteKey(e){return e.key&&e.key.toLowerCase()==="delete"||e.keyCode&&e.keyCode===46}setInputValue(e,i){let n=this.isEmpty(i),a="has-value",r="empty";n?(e.value="",e.classList.remove(a),e.parentElement.classList.add(r)):(e.value=i,e.classList.add(a),e.parentElement.classList.remove(r))}canInputValue(e){return this.isEmpty(e)?!1:/^[0-9]+$/.test(e.toString())||this.isCharsCode||this.isNonDigitsCode}setStateForInput(e,i){let n=this.inputs.indexOf(e);n<0||(this.inputsStates[n]=i)}getStateForInput(e){let i=this.inputs.indexOf(e);return this.inputsStates[i]}isEmpty(e){return e==null||!e.toString().length}static{this.\u0275fac=function(i){return new(i||t)(h(Se,8))}}static{this.\u0275cmp=C({type:t,selectors:[["code-input"]],viewQuery:function(i,n){if(i&1&&le(Ve,5),i&2){let a;ce(a=de())&&(n.inputsList=a)}},inputs:{codeLength:"codeLength",inputType:"inputType",inputMode:"inputMode",initialFocusField:"initialFocusField",isNonDigitsCode:"isNonDigitsCode",isCharsCode:"isCharsCode",isCodeHidden:"isCodeHidden",isPrevFocusableAfterClearing:"isPrevFocusableAfterClearing",isFocusingOnLastByClickIfFilled:"isFocusingOnLastByClickIfFilled",code:"code",disabled:"disabled",autocapitalize:"autocapitalize"},outputs:{codeChanged:"codeChanged",codeCompleted:"codeCompleted"},features:[re],decls:1,vars:1,consts:[["input",""],[3,"code-hidden",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"click","paste","input","keydown","type","disabled"]],template:function(i,n){i&1&&g(0,je,3,6,"span",1),i&2&&p("ngForOf",n.placeholders)},dependencies:[O],styles:["[_nghost-%COMP%]{--text-security-type: disc;--item-spacing: 4px;--item-height: 4.375em;--item-border: 1px solid #dddddd;--item-border-bottom: 1px solid #dddddd;--item-border-has-value: 1px solid #dddddd;--item-border-bottom-has-value: 1px solid #dddddd;--item-border-focused: 1px solid #dddddd;--item-border-bottom-focused: 1px solid #dddddd;--item-shadow-focused: 0px 1px 5px rgba(221, 221, 221, 1);--item-border-radius: 5px;--item-background: transparent;--item-font-weight: 300;--color: #171516;display:flex;transform:translateZ(0);font-size:inherit;color:var(--color)}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{display:block;flex:1;padding-right:var(--item-spacing)}[_nghost-%COMP%]   span[_ngcontent-%COMP%]:first-child{padding-left:var(--item-spacing)}[_nghost-%COMP%]   span.code-hidden[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-security:var(--text-security-type);-webkit-text-security:var(--text-security-type);-moz-text-security:var(--text-security-type)}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:var(--item-height);color:inherit;background:var(--item-background);text-align:center;font-size:inherit;font-weight:var(--item-font-weight);border:var(--item-border);border-bottom:var(--item-border-bottom);border-radius:var(--item-border-radius);-webkit-appearance:none;transform:translateZ(0);-webkit-transform:translate3d(0,0,0);outline:none}[_nghost-%COMP%]   input.has-value[_ngcontent-%COMP%]{border:var(--item-border-has-value);border-bottom:var(--item-border-bottom-has-value)}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus{border:var(--item-border-focused);border-bottom:var(--item-border-bottom-focused);box-shadow:var(--item-shadow-focused)}"]})}}return t})(),ke=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:Se,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=M({imports:[pe]})}}return t})();var qe=()=>["/register"];function He(t,u){if(t&1&&(o(0,"span",24),l(1),s()),t&2){let e=u.$implicit;c(),A(e)}}function We(t,u){if(t&1&&(o(0,"div",20),b(),o(1,"svg",21),m(2,"path",22),s(),g(3,He,2,1,"span",23),s()),t&2){let e=d();c(3),p("ngForOf",e.errorMsg)}}var Fe=(()=>{class t{constructor(e,i,n){this.router=e,this.authService=i,this.tokenService=n,this.authRequest={email:"",password:""},this.errorMsg=[]}login(){this.errorMsg=[],this.authService.authenticate({body:this.authRequest}).subscribe({next:e=>{this.tokenService.token=e.token,this.router.navigate(["books"])},error:e=>{e.error.validationErrors&&(this.errorMsg=e.error.validationErrors),this.errorMsg.push(e.error.error)}})}static{this.\u0275fac=function(i){return new(i||t)(h(P),h(R),h(T))}}static{this.\u0275cmp=C({type:t,selectors:[["app-login"]],decls:34,vars:5,consts:[[1,"min-h-screen","bg-base-200","flex","items-center","justify-center","background",2,"background-image","url('assets/a.png')"],[1,"card","w-96","bg-base-100","shadow-xl"],[1,"card-body"],[1,"text-3xl","font-bold","mb-6","text-center","text-neutral","bg-a"],[1,"text-center","mb-4","bg-a"],["role","alert","class","alert alert-error span-error",4,"ngIf"],[1,"form-control"],[1,"label"],[1,"label-text"],[1,"input","input-bordered","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16","fill","currentColor",1,"h-4","w-4","opacity-70"],["d","M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"],["d","M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"],["type","email","placeholder","seu@email.com",1,"",3,"ngModelChange","ngModel"],["fill-rule","evenodd","d","M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z","clip-rule","evenodd"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"",3,"ngModelChange","ngModel"],["type","button",1,"btn","colors","btn-neutral","w-full","mb-3",3,"click"],[1,"divider"],[1,"text-center","mt-3"],["routerLinkActive","router-link-active","href","#",1,"link","link-hover","link-primary",3,"routerLink"],["role","alert",1,"alert","alert-error","span-error"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"h-6","w-6","shrink-0","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],["class","",4,"ngFor","ngForOf"],[1,""]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),l(4," Bem-vindo ao BookLore "),s(),o(5,"p",4),l(6," Entre na sua conta para explorar um mundo de livros. "),s(),g(7,We,4,1,"div",5),o(8,"div",6)(9,"label",7)(10,"span",8),l(11,"Email"),s()(),o(12,"label",9),b(),o(13,"svg",10),m(14,"path",11)(15,"path",12),s(),S(),o(16,"input",13),E("ngModelChange",function(r){return k(n.authRequest.email,r)||(n.authRequest.email=r),r}),s()()(),o(17,"div",6)(18,"label",7)(19,"span",8),l(20,"Senha"),s()(),o(21,"label",9),b(),o(22,"svg",10),m(23,"path",14),s(),S(),o(24,"input",15),E("ngModelChange",function(r){return k(n.authRequest.password,r)||(n.authRequest.password=r),r}),s()(),m(25,"label",7),s(),o(26,"button",16),_("click",function(){return n.login()}),l(27," Entrar "),s(),o(28,"div",17),l(29,"OU"),s(),o(30,"p",18),l(31," N\xE3o tem uma conta? "),o(32,"a",19),l(33,"Cadastre-se"),s()()()()()),i&2&&(c(7),p("ngIf",n.errorMsg.length),c(9),w("ngModel",n.authRequest.email),c(8),w("ngModel",n.authRequest.password),c(8),p("routerLink",B(4,qe)))},dependencies:[O,D,z,G,q,H,W],styles:[".card.w-96.bg-base-100.shadow-xl[_ngcontent-%COMP%]{width:500px;background-color:#ffffffc5}.span-error[_ngcontent-%COMP%]{font-size:13px}img[_ngcontent-%COMP%]{width:30px;height:auto}.background[_ngcontent-%COMP%]{background-color:#ffffffa4;background-blend-mode:overlay}.bg-a[_ngcontent-%COMP%]{color:#726052}.colors[_ngcontent-%COMP%]{background-color:#f4f2e9;color:#726052;border-color:#d2d4d7}.link[_ngcontent-%COMP%]{color:#726052;transition:color .5s ease}"]})}}return t})();var Ge=()=>["/login"];function Ze(t,u){if(t&1&&(o(0,"span",27),l(1),s()),t&2){let e=u.$implicit;c(),A(e)}}function Ke(t,u){if(t&1&&(o(0,"div",23),b(),o(1,"svg",24),m(2,"path",25),s(),g(3,Ze,2,1,"span",26),s()),t&2){let e=d();c(3),p("ngForOf",e.errorMsg)}}var Me=(()=>{class t{constructor(e,i,n){this.router=e,this.authService=i,this.tokenService=n,this.registerRequest={email:"",firstName:"",lastName:"",password:""},this.errorMsg=[]}register(){this.errorMsg=[],this.authService.register({body:this.registerRequest}).subscribe({next:e=>{this.tokenService.token=e.token,this.router.navigate(["activate-account"])},error:e=>{this.errorMsg=e.error.validationErrors}})}static{this.\u0275fac=function(i){return new(i||t)(h(P),h(R),h(T))}}static{this.\u0275cmp=C({type:t,selectors:[["app-register"]],decls:47,vars:7,consts:[[1,"min-h-screen","bg-base-200","flex","items-center","justify-center","background",2,"background-image","url('assets/a.png')"],[1,"card","w-96","bg-base-100","shadow-xl"],[1,"card-body"],[1,"text-3xl","font-bold","mb-6","text-center","bg-a"],[1,"text-center","mb-4","bg-a"],["role","alert","class","alert alert-error span-error",4,"ngIf"],[1,"form-control"],[1,"label"],[1,"label-text"],[1,"input","input-bordered","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16","fill","currentColor",1,"h-4","w-4","opacity-70"],["d","M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"],["type","email","placeholder","Lucas",1,"",3,"ngModelChange","ngModel"],["type","email","placeholder","Montano",1,"",3,"ngModelChange","ngModel"],["d","M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"],["d","M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"],["type","email","placeholder","seu@email.com",1,"",3,"ngModelChange","ngModel"],["fill-rule","evenodd","d","M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z","clip-rule","evenodd"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-neutral","colors","w-full","mb-3",3,"click"],[1,"divider"],[1,"text-center","mt-3"],["routerLinkActive","router-link-active","href","#",1,"link","link-hover","link-primary",3,"routerLink"],["role","alert",1,"alert","alert-error","span-error"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"h-6","w-6","shrink-0","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],["class","",4,"ngFor","ngForOf"],[1,""]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),l(4," Crie sua conta no BookLore "),s(),o(5,"p",4),l(6," Preencha os campos abaixo para se registrar e come\xE7ar sua jornada liter\xE1ria. "),s(),g(7,Ke,4,1,"div",5),o(8,"div",6)(9,"label",7)(10,"span",8),l(11,"Nome"),s()(),o(12,"label",9),b(),o(13,"svg",10),m(14,"path",11),s(),S(),o(15,"input",12),E("ngModelChange",function(r){return k(n.registerRequest.firstName,r)||(n.registerRequest.firstName=r),r}),s()(),o(16,"label",7)(17,"span",8),l(18,"Sobrenome"),s()(),o(19,"label",9),b(),o(20,"svg",10),m(21,"path",11),s(),S(),o(22,"input",13),E("ngModelChange",function(r){return k(n.registerRequest.lastName,r)||(n.registerRequest.lastName=r),r}),s()(),o(23,"label",7)(24,"span",8),l(25,"Email"),s()(),o(26,"label",9),b(),o(27,"svg",10),m(28,"path",14)(29,"path",15),s(),S(),o(30,"input",16),E("ngModelChange",function(r){return k(n.registerRequest.email,r)||(n.registerRequest.email=r),r}),s()()(),o(31,"div",6)(32,"label",7)(33,"span",8),l(34,"Senha"),s()(),o(35,"label",9),b(),o(36,"svg",10),m(37,"path",17),s(),S(),o(38,"input",18),E("ngModelChange",function(r){return k(n.registerRequest.password,r)||(n.registerRequest.password=r),r}),s()()(),o(39,"button",19),_("click",function(){return n.register()}),l(40," Crie sua conta "),s(),o(41,"div",20),l(42,"OU"),s(),o(43,"p",21),l(44," J\xE1 tem uma conta? "),o(45,"a",22),l(46,"Fa\xE7a login"),s()()()()()),i&2&&(c(7),p("ngIf",n.errorMsg.length),c(8),w("ngModel",n.registerRequest.firstName),c(7),w("ngModel",n.registerRequest.lastName),c(8),w("ngModel",n.registerRequest.email),c(8),w("ngModel",n.registerRequest.password),c(7),p("routerLink",B(6,Ge)))},dependencies:[O,D,z,G,q,H,W],styles:[".card.w-96.bg-base-100.shadow-xl[_ngcontent-%COMP%]{width:500px;background-color:#ffffffc5}.span-error[_ngcontent-%COMP%]{font-size:13px}img[_ngcontent-%COMP%]{width:30px;height:auto}.background[_ngcontent-%COMP%]{background-color:#ffffffa4;background-blend-mode:overlay}.bg-a[_ngcontent-%COMP%]{color:#726052}.colors[_ngcontent-%COMP%]{background-color:#f4f2e9;color:#726052;border-color:#d2d4d7}.link[_ngcontent-%COMP%]{color:#726052;transition:color .5s ease}"]})}}return t})();var N=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(N||{});function Ie(t,u){return{type:N.Trigger,name:t,definitions:u,options:{}}}function Le(t,u=null){return{type:N.Animate,styles:u,timings:t}}function X(t){return{type:N.Style,styles:t,offset:null}}function Ae(t,u,e=null){return{type:N.Transition,expr:t,animation:u,options:e}}function Qe(t,u){if(t&1){let e=L();o(0,"div",6)(1,"div",7)(2,"h2",8),l(3," Ativa\xE7\xE3o Bem-Sucedida! "),s(),o(4,"p",9),l(5),s(),o(6,"button",10),_("click",function(){y(e);let n=d(2);return v(n.redirectToLogin())}),l(7," Ir para Login "),s()()()}if(t&2){let e=d(2);c(5),ue("",e.message,".")}}function Ue(t,u){if(t&1&&(o(0,"div",4),g(1,Qe,8,1,"div",5),s()),t&2){let e=d(),i=K(5);c(),p("ngIf",e.submitted)("ngIfElse",i)}}function Ye(t,u){if(t&1){let e=L();o(0,"div",11)(1,"div",6)(2,"div",7)(3,"h2",12),l(4," Falha na Ativa\xE7\xE3o! "),s(),o(5,"p",9),l(6),s(),o(7,"button",10),_("click",function(){y(e);let n=d();return v(n.isOkay)}),l(8," Tentar novamente "),s()()()()}if(t&2){let e=d();c(6),A(e.message)}}function Je(t,u){if(t&1){let e=L();o(0,"div",11)(1,"div",6)(2,"div",7)(3,"h2",13),l(4," Ative Sua Conta "),s(),o(5,"p",14),l(6," Digite o c\xF3digo de 6 d\xEDgitos enviado para seu e-mail "),s(),o(7,"code-input",15),_("codeCompleted",function(n){y(e);let a=d();return v(a.onCodeCompleted(n))}),s(),o(8,"button",16),_("click",function(){y(e);let n=d();return v(n.redirectToLogin())}),l(9," Ativar Conta "),s()()()()}t&2&&(c(7),p("isCodeHidden",!1)("codeLength",6))}var Oe=(()=>{class t{constructor(e,i){this.router=e,this.authService=i,this.isOkay=!0,this.submitted=!1,this.message=""}activate(){}redirectToLogin(){this.router.navigate(["login"])}onCodeCompleted(e){this.authService.confirm({token:e}).subscribe({next:i=>{this.message=`Sua conta foi ativada com sucesso.
Agora voc\xEA pode prosseguir para o login`,this.submitted=!0},error:i=>{this.message="O token expirou ou \xE9 inv\xE1lido",this.isOkay=!1}})}static{this.\u0275fac=function(i){return new(i||t)(h(P),h(R))}}static{this.\u0275cmp=C({type:t,selectors:[["app-activate-account"]],decls:6,vars:2,consts:[["activationError",""],["codeForm",""],[1,"background",2,"background-image","url('assets/a.png')"],["class","min-h-screen bg-gradient-to-br flex items-center justify-center",4,"ngIf","ngIfElse"],[1,"min-h-screen","bg-gradient-to-br","flex","items-center","justify-center"],["class","card w-full bg-base-100 max-w-md shadow-xl",4,"ngIf","ngIfElse"],[1,"card","w-full","bg-base-100","max-w-md","shadow-xl"],[1,"card-body"],[1,"text-3xl","font-bold","text-green-500","text-center","bg-a","mb-3"],[1,"text-center","mb-3"],[1,"btn","btn-neutral","w-full","colors",3,"click"],[1,"min-h-screen","bg-gradient-to-br","flex","items-center","justify-center","p-4"],[1,"text-3xl","text-center","font-bold","text-red-600","mb-3"],[1,"text-3xl","font-bold","text-center","mb-3","bg-a"],[1,"text-center","bg-a","mb-3"],[1,"mb-3",3,"codeCompleted","isCodeHidden","codeLength"],[1,"btn","btn-neutral","colors","w-full",3,"click"]],template:function(i,n){if(i&1&&(o(0,"div",2),g(1,Ue,2,2,"div",3)(2,Ye,9,1,"ng-template",null,0,Q)(4,Je,10,2,"ng-template",null,1,Q),s()),i&2){let a=K(3);c(),p("ngIf",n.isOkay)("ngIfElse",a)}},dependencies:[D,we],styles:[".background[_ngcontent-%COMP%]{background-color:#ffffffa4;background-blend-mode:overlay}.bg-base-100[_ngcontent-%COMP%]{background-color:#ffffffc5}.bg-a[_ngcontent-%COMP%]{color:#726052}.colors[_ngcontent-%COMP%]{background-color:#f4f2e9;color:#726052;border-color:#d2d4d7}"],data:{animation:[Ie("fadeIn",[Ae(":enter",[X({opacity:0,transform:"translateY(20px)"}),Le("500ms",X({opacity:1,transform:"translateY(0)"}))])])]}})}}return t})();var Xe=[{path:"",redirectTo:"books",pathMatch:"full"},{path:"login",component:Fe},{path:"register",component:Me},{path:"activate-account",component:Oe},{path:"books",loadChildren:()=>import("./chunk-BZEZCQFY.js").then(t=>t.BookModule),canActivate:[be]}],De=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=M({imports:[U.forRoot(Xe),U]})}}return t})();var Pe=(()=>{class t{constructor(){this.title="booklore-ui"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(i,n){i&1&&m(0,"router-outlet")},dependencies:[ve]})}}return t})();var Re=(()=>{class t{constructor(e){this.tokenService=e}intercept(e,i){let n=this.tokenService.token;if(n){let a=e.clone({headers:e.headers.set("Authorization",`Bearer ${n}`)});return i.handle(a).pipe(te(r=>ee(()=>r)))}return i.handle(e)}static{this.\u0275fac=function(i){return new(i||t)(oe(T))}}static{this.\u0275prov=ie({token:t,factory:t.\u0275fac})}}return t})();var Te=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t,bootstrap:[Pe]})}static{this.\u0275inj=M({providers:[he,{provide:me,useClass:Re,multi:!0},Ce()],imports:[_e,De,ye,fe,ke]})}}return t})();ge().bootstrapModule(Te).catch(t=>console.error(t));
