import './polyfills.server.mjs';
import{a as ve,b as be,c as U,d as _e,g as xe}from"./chunk-7E7YYOQP.mjs";import{b as H,c as W,f as z,j as we,k as V,l as R,o as ke}from"./chunk-JI3WX7CF.mjs";import{$ as A,$a as fe,B as G,Ia as O,Ja as T,Ka as ue,L as c,M as u,S as h,T as se,Ta as me,U as p,Ua as ge,V as ae,W as o,Wa as he,X as s,Y as m,aa as f,ab as Ce,ba as d,c as ee,ca as le,cb as ye,da as ce,ea as de,eb as P,fa as K,fb as B,g as te,ga as l,gb as q,ha as F,hb as Y,ia as pe,j as ie,ja as S,k as w,ka as E,l as ne,la as I,m as oe,na as D,oa as Q,q as v,r as k,t as re,u as b,v as _,w as x,x as M}from"./chunk-2SHOPDUX.mjs";import{h as $}from"./chunk-VVCT4QZE.mjs";var Re=["input"];function Ne(i,C){if(i&1){let e=A();o(0,"span")(1,"input",2,0),f("click",function(n){b(e);let a=d();return _(a.onClick(n))})("paste",function(n){let a=b(e).index,r=d();return _(r.onPaste(n,a))})("input",function(n){let a=b(e).index,r=d();return _(r.onInput(n,a))})("keydown",function(n){let a=b(e).index,r=d();return _(r.onKeydown(n,a))}),s()()}if(i&2){let e=d();ae("code-hidden",e.isCodeHidden),c(),p("type",e.inputType)("disabled",e.disabled),se("inputmode",e.inputMode)("autocapitalize",e.autocapitalize)}}var Se=new ne("CodeInputComponentConfig"),Me={codeLength:4,inputType:"tel",inputMode:"numeric",initialFocusField:void 0,isCharsCode:!1,isCodeHidden:!1,isPrevFocusableAfterClearing:!0,isFocusingOnLastByClickIfFilled:!1,code:void 0,disabled:!1,autocapitalize:void 0},N=function(i){return i[i.ready=0]="ready",i[i.reset=1]="reset",i}(N||{}),Ee=(()=>{class i{constructor(e){if(this.isNonDigitsCode=!1,this.codeChanged=new G,this.codeCompleted=new G,this.placeholders=[],this.inputs=[],this.inputsStates=[],this.state={isFocusingAfterAppearingCompleted:!1,isInitialFocusFieldEnabled:!1},Object.assign(this,Me),!!e)for(let t in e)e.hasOwnProperty(t)&&Me.hasOwnProperty(t)&&(this[t]=e[t])}ngOnInit(){this.state.isInitialFocusFieldEnabled=!this.isEmpty(this.initialFocusField),this.onCodeLengthChanges()}ngAfterViewInit(){this.inputsListSubscription=this.inputsList.changes.subscribe(this.onInputsListChanges.bind(this)),this.onInputsListChanges(this.inputsList)}ngAfterViewChecked(){this.focusOnInputAfterAppearing()}ngOnChanges(e){e.code&&this.onInputCodeChanges(),e.codeLength&&this.onCodeLengthChanges()}ngOnDestroy(){this.inputsListSubscription&&this.inputsListSubscription.unsubscribe()}reset(e=!1){this.onInputCodeChanges(),this.state.isInitialFocusFieldEnabled&&this.focusOnField(this.initialFocusField),e&&this.emitChanges()}focusOnField(e){if(e>=this._codeLength)throw new Error("The index of the focusing input box should be less than the codeLength.");this.inputs[e].focus()}onClick(e){if(!this.isFocusingOnLastByClickIfFilled)return;let t=e.target,n=this.inputs[this._codeLength-1];t===n||!(this.getCurrentFilledCode().length>=this._codeLength)||setTimeout(()=>n.focus())}onInput(e,t){let n=e.target,a=e.data||n.value;if(this.isEmpty(a))return;if(!this.canInputValue(a)){e.preventDefault(),e.stopPropagation(),this.setInputValue(n,null),this.setStateForInput(n,N.reset);return}let r=a.toString().trim().split("");for(let g=0;g<r.length;g++){let j=g+t;if(j>this._codeLength-1)break;this.setInputValue(this.inputs[j],r[g])}this.emitChanges();let y=t+r.length;if(y>this._codeLength-1){n.blur();return}this.inputs[y].focus()}onPaste(e,t){e.preventDefault(),e.stopPropagation();let n=e.clipboardData?e.clipboardData.getData("text").trim():void 0;if(this.isEmpty(n))return;let a=n.split(""),r=0;for(let y=t;y<this.inputs.length&&r!==a.length;y++){let g=this.inputs[y],j=a[r];if(!this.canInputValue(j)){this.setInputValue(g,null),this.setStateForInput(g,N.reset);return}this.setInputValue(g,j.toString()),r++}this.inputs[t].blur(),this.emitChanges()}onKeydown(e,t){return $(this,null,function*(){let n=e.target,a=this.isEmpty(n.value),r=t-1,y=yield this.isBackspaceKey(e),g=this.isDeleteKey(e);!y&&!g||(e.preventDefault(),this.setInputValue(n,null),a||this.emitChanges(),!(r<0||g)&&(a||this.isPrevFocusableAfterClearing)&&this.inputs[r].focus())})}onInputCodeChanges(){if(!this.inputs.length)return;if(this.isEmpty(this.code)){this.inputs.forEach(n=>{this.setInputValue(n,null)});return}let e=this.code.toString().trim().split(""),t=!0;for(let n of e)if(!this.canInputValue(n)){t=!1;break}this.inputs.forEach((n,a)=>{let r=t?e[a]:null;this.setInputValue(n,r)})}onCodeLengthChanges(){if(this.codeLength)if(this._codeLength=this.codeLength,this._codeLength>this.placeholders.length){let e=Array(this._codeLength-this.placeholders.length).fill(1);this.placeholders.splice(this.placeholders.length-1,0,...e)}else this._codeLength<this.placeholders.length&&this.placeholders.splice(this._codeLength)}onInputsListChanges(e){if(e.length>this.inputs.length){let t=e.filter((a,r)=>r>this.inputs.length-1);this.inputs.splice(this.inputs.length,0,...t.map(a=>a.nativeElement));let n=Array(t.length).fill(N.ready);this.inputsStates.splice(this.inputsStates.length,0,...n)}else e.length<this.inputs.length&&(this.inputs.splice(e.length),this.inputsStates.splice(e.length));this.onInputCodeChanges()}focusOnInputAfterAppearing(){this.state.isInitialFocusFieldEnabled&&(this.state.isFocusingAfterAppearingCompleted||(this.focusOnField(this.initialFocusField),this.state.isFocusingAfterAppearingCompleted=document.activeElement===this.inputs[this.initialFocusField]))}emitChanges(){setTimeout(()=>this.emitCode(),50)}emitCode(){let e=this.getCurrentFilledCode();this.codeChanged.emit(e),e.length>=this._codeLength&&this.codeCompleted.emit(e)}getCurrentFilledCode(){let e="";for(let t of this.inputs)this.isEmpty(t.value)||(e+=t.value);return e}isBackspaceKey(e){return e.key&&e.key.toLowerCase()==="backspace"||e.keyCode&&e.keyCode===8?Promise.resolve(!0):!e.keyCode||e.keyCode!==229?Promise.resolve(!1):new Promise(n=>{setTimeout(()=>{let a=e.target,r=this.getStateForInput(a)===N.reset;r&&this.setStateForInput(a,N.ready),n(a.selectionStart===0&&!r)})})}isDeleteKey(e){return e.key&&e.key.toLowerCase()==="delete"||e.keyCode&&e.keyCode===46}setInputValue(e,t){let n=this.isEmpty(t),a="has-value",r="empty";n?(e.value="",e.classList.remove(a),e.parentElement.classList.add(r)):(e.value=t,e.classList.add(a),e.parentElement.classList.remove(r))}canInputValue(e){return this.isEmpty(e)?!1:/^[0-9]+$/.test(e.toString())||this.isCharsCode||this.isNonDigitsCode}setStateForInput(e,t){let n=this.inputs.indexOf(e);n<0||(this.inputsStates[n]=t)}getStateForInput(e){let t=this.inputs.indexOf(e);return this.inputsStates[t]}isEmpty(e){return e==null||!e.toString().length}static{this.\u0275fac=function(t){return new(t||i)(u(Se,8))}}static{this.\u0275cmp=v({type:i,selectors:[["code-input"]],viewQuery:function(t,n){if(t&1&&le(Re,5),t&2){let a;ce(a=de())&&(n.inputsList=a)}},inputs:{codeLength:"codeLength",inputType:"inputType",inputMode:"inputMode",initialFocusField:"initialFocusField",isNonDigitsCode:"isNonDigitsCode",isCharsCode:"isCharsCode",isCodeHidden:"isCodeHidden",isPrevFocusableAfterClearing:"isPrevFocusableAfterClearing",isFocusingOnLastByClickIfFilled:"isFocusingOnLastByClickIfFilled",code:"code",disabled:"disabled",autocapitalize:"autocapitalize"},outputs:{codeChanged:"codeChanged",codeCompleted:"codeCompleted"},features:[re],decls:1,vars:1,consts:[["input",""],[3,"code-hidden",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"click","paste","input","keydown","type","disabled"]],template:function(t,n){t&1&&h(0,Ne,3,6,"span",1),t&2&&p("ngForOf",n.placeholders)},dependencies:[O],styles:["[_nghost-%COMP%]{--text-security-type: disc;--item-spacing: 4px;--item-height: 4.375em;--item-border: 1px solid #dddddd;--item-border-bottom: 1px solid #dddddd;--item-border-has-value: 1px solid #dddddd;--item-border-bottom-has-value: 1px solid #dddddd;--item-border-focused: 1px solid #dddddd;--item-border-bottom-focused: 1px solid #dddddd;--item-shadow-focused: 0px 1px 5px rgba(221, 221, 221, 1);--item-border-radius: 5px;--item-background: transparent;--item-font-weight: 300;--color: #171516;display:flex;transform:translateZ(0);font-size:inherit;color:var(--color)}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{display:block;flex:1;padding-right:var(--item-spacing)}[_nghost-%COMP%]   span[_ngcontent-%COMP%]:first-child{padding-left:var(--item-spacing)}[_nghost-%COMP%]   span.code-hidden[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-security:var(--text-security-type);-webkit-text-security:var(--text-security-type);-moz-text-security:var(--text-security-type)}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:var(--item-height);color:inherit;background:var(--item-background);text-align:center;font-size:inherit;font-weight:var(--item-font-weight);border:var(--item-border);border-bottom:var(--item-border-bottom);border-radius:var(--item-border-radius);-webkit-appearance:none;transform:translateZ(0);-webkit-transform:translate3d(0,0,0);outline:none}[_nghost-%COMP%]   input.has-value[_ngcontent-%COMP%]{border:var(--item-border-has-value);border-bottom:var(--item-border-bottom-has-value)}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus{border:var(--item-border-focused);border-bottom:var(--item-border-bottom-focused);box-shadow:var(--item-shadow-focused)}"]})}}return i})(),Ie=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[{provide:Se,useValue:e}]}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=k({type:i})}static{this.\u0275inj=w({imports:[ue]})}}return i})();var Be=()=>["/register"];function qe(i,C){if(i&1&&(o(0,"span",24),l(1),s()),i&2){let e=C.$implicit;c(),F(e)}}function He(i,C){if(i&1&&(o(0,"div",20),x(),o(1,"svg",21),m(2,"path",22),s(),h(3,qe,2,1,"span",23),s()),i&2){let e=d();c(3),p("ngForOf",e.errorMsg)}}var Ae=(()=>{class i{constructor(e,t,n){this.router=e,this.authService=t,this.tokenService=n,this.authRequest={email:"",password:""},this.errorMsg=[]}login(){this.errorMsg=[],this.authService.authenticate({body:this.authRequest}).subscribe({next:e=>{this.tokenService.token=e.token,this.router.navigate(["books"])},error:e=>{e.error.validationErrors&&(this.errorMsg=e.error.validationErrors),this.errorMsg.push(e.error.error)}})}static{this.\u0275fac=function(t){return new(t||i)(u(P),u(V),u(R))}}static{this.\u0275cmp=v({type:i,selectors:[["app-login"]],decls:34,vars:5,consts:[[1,"min-h-screen","bg-base-200","flex","items-center","justify-center","background",2,"background-image","url('assets/a.png')"],[1,"card","w-96","bg-base-100","shadow-xl"],[1,"card-body"],[1,"text-3xl","font-bold","mb-6","text-center","text-neutral","bg-a"],[1,"text-center","mb-4","bg-a"],["role","alert","class","alert alert-error span-error",4,"ngIf"],[1,"form-control"],[1,"label"],[1,"label-text"],[1,"input","input-bordered","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16","fill","currentColor",1,"h-4","w-4","opacity-70"],["d","M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"],["d","M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"],["type","email","placeholder","seu@email.com",1,"",3,"ngModelChange","ngModel"],["fill-rule","evenodd","d","M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z","clip-rule","evenodd"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"",3,"ngModelChange","ngModel"],["type","button",1,"btn","colors","btn-neutral","w-full","mb-3",3,"click"],[1,"divider"],[1,"text-center","mt-3"],["routerLinkActive","router-link-active","href","#",1,"link","link-hover","link-primary",3,"routerLink"],["role","alert",1,"alert","alert-error","span-error"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"h-6","w-6","shrink-0","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],["class","",4,"ngFor","ngForOf"],[1,""]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),l(4," Bem-vindo ao BookLore "),s(),o(5,"p",4),l(6," Entre na sua conta para explorar um mundo de livros. "),s(),h(7,He,4,1,"div",5),o(8,"div",6)(9,"label",7)(10,"span",8),l(11,"Email"),s()(),o(12,"label",9),x(),o(13,"svg",10),m(14,"path",11)(15,"path",12),s(),M(),o(16,"input",13),I("ngModelChange",function(r){return E(n.authRequest.email,r)||(n.authRequest.email=r),r}),s()()(),o(17,"div",6)(18,"label",7)(19,"span",8),l(20,"Senha"),s()(),o(21,"label",9),x(),o(22,"svg",10),m(23,"path",14),s(),M(),o(24,"input",15),I("ngModelChange",function(r){return E(n.authRequest.password,r)||(n.authRequest.password=r),r}),s()(),m(25,"label",7),s(),o(26,"button",16),f("click",function(){return n.login()}),l(27," Entrar "),s(),o(28,"div",17),l(29,"OU"),s(),o(30,"p",18),l(31," N\xE3o tem uma conta? "),o(32,"a",19),l(33,"Cadastre-se"),s()()()()()),t&2&&(c(7),p("ngIf",n.errorMsg.length),c(9),S("ngModel",n.authRequest.email),c(8),S("ngModel",n.authRequest.password),c(8),p("routerLink",D(4,Be)))},dependencies:[O,T,B,q,H,W,z],styles:[".card.w-96.bg-base-100.shadow-xl[_ngcontent-%COMP%]{width:500px;background-color:#ffffffc5}.span-error[_ngcontent-%COMP%]{font-size:13px}img[_ngcontent-%COMP%]{width:30px;height:auto}.background[_ngcontent-%COMP%]{background-color:#ffffffa4;background-blend-mode:overlay}.bg-a[_ngcontent-%COMP%]{color:#726052}.colors[_ngcontent-%COMP%]{background-color:#f4f2e9;color:#726052;border-color:#d2d4d7}.link[_ngcontent-%COMP%]{color:#726052;transition:color .5s ease}"]})}}return i})();var ze=()=>["/login"];function Ze(i,C){if(i&1&&(o(0,"span",27),l(1),s()),i&2){let e=C.$implicit;c(),F(e)}}function Ge(i,C){if(i&1&&(o(0,"div",23),x(),o(1,"svg",24),m(2,"path",25),s(),h(3,Ze,2,1,"span",26),s()),i&2){let e=d();c(3),p("ngForOf",e.errorMsg)}}var Fe=(()=>{class i{constructor(e,t,n){this.router=e,this.authService=t,this.tokenService=n,this.registerRequest={email:"",firstName:"",lastName:"",password:""},this.errorMsg=[]}register(){this.errorMsg=[],this.authService.register({body:this.registerRequest}).subscribe({next:e=>{this.tokenService.token=e.token,this.router.navigate(["activate-account"])},error:e=>{this.errorMsg=e.error.validationErrors}})}static{this.\u0275fac=function(t){return new(t||i)(u(P),u(V),u(R))}}static{this.\u0275cmp=v({type:i,selectors:[["app-register"]],decls:47,vars:7,consts:[[1,"min-h-screen","bg-base-200","flex","items-center","justify-center","background",2,"background-image","url('assets/a.png')"],[1,"card","w-96","bg-base-100","shadow-xl"],[1,"card-body"],[1,"text-3xl","font-bold","mb-6","text-center","bg-a"],[1,"text-center","mb-4","bg-a"],["role","alert","class","alert alert-error span-error",4,"ngIf"],[1,"form-control"],[1,"label"],[1,"label-text"],[1,"input","input-bordered","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16","fill","currentColor",1,"h-4","w-4","opacity-70"],["d","M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"],["type","email","placeholder","Lucas",1,"",3,"ngModelChange","ngModel"],["type","email","placeholder","Montano",1,"",3,"ngModelChange","ngModel"],["d","M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"],["d","M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"],["type","email","placeholder","seu@email.com",1,"",3,"ngModelChange","ngModel"],["fill-rule","evenodd","d","M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z","clip-rule","evenodd"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-neutral","colors","w-full","mb-3",3,"click"],[1,"divider"],[1,"text-center","mt-3"],["routerLinkActive","router-link-active","href","#",1,"link","link-hover","link-primary",3,"routerLink"],["role","alert",1,"alert","alert-error","span-error"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"h-6","w-6","shrink-0","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],["class","",4,"ngFor","ngForOf"],[1,""]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),l(4," Crie sua conta no BookLore "),s(),o(5,"p",4),l(6," Preencha os campos abaixo para se registrar e come\xE7ar sua jornada liter\xE1ria. "),s(),h(7,Ge,4,1,"div",5),o(8,"div",6)(9,"label",7)(10,"span",8),l(11,"Nome"),s()(),o(12,"label",9),x(),o(13,"svg",10),m(14,"path",11),s(),M(),o(15,"input",12),I("ngModelChange",function(r){return E(n.registerRequest.firstName,r)||(n.registerRequest.firstName=r),r}),s()(),o(16,"label",7)(17,"span",8),l(18,"Sobrenome"),s()(),o(19,"label",9),x(),o(20,"svg",10),m(21,"path",11),s(),M(),o(22,"input",13),I("ngModelChange",function(r){return E(n.registerRequest.lastName,r)||(n.registerRequest.lastName=r),r}),s()(),o(23,"label",7)(24,"span",8),l(25,"Email"),s()(),o(26,"label",9),x(),o(27,"svg",10),m(28,"path",14)(29,"path",15),s(),M(),o(30,"input",16),I("ngModelChange",function(r){return E(n.registerRequest.email,r)||(n.registerRequest.email=r),r}),s()()(),o(31,"div",6)(32,"label",7)(33,"span",8),l(34,"Senha"),s()(),o(35,"label",9),x(),o(36,"svg",10),m(37,"path",17),s(),M(),o(38,"input",18),I("ngModelChange",function(r){return E(n.registerRequest.password,r)||(n.registerRequest.password=r),r}),s()()(),o(39,"button",19),f("click",function(){return n.register()}),l(40," Crie sua conta "),s(),o(41,"div",20),l(42,"OU"),s(),o(43,"p",21),l(44," J\xE1 tem uma conta? "),o(45,"a",22),l(46,"Fa\xE7a login"),s()()()()()),t&2&&(c(7),p("ngIf",n.errorMsg.length),c(8),S("ngModel",n.registerRequest.firstName),c(7),S("ngModel",n.registerRequest.lastName),c(8),S("ngModel",n.registerRequest.email),c(8),S("ngModel",n.registerRequest.password),c(7),p("routerLink",D(6,ze)))},dependencies:[O,T,B,q,H,W,z],styles:[".card.w-96.bg-base-100.shadow-xl[_ngcontent-%COMP%]{width:500px;background-color:#ffffffc5}.span-error[_ngcontent-%COMP%]{font-size:13px}img[_ngcontent-%COMP%]{width:30px;height:auto}.background[_ngcontent-%COMP%]{background-color:#ffffffa4;background-blend-mode:overlay}.bg-a[_ngcontent-%COMP%]{color:#726052}.colors[_ngcontent-%COMP%]{background-color:#f4f2e9;color:#726052;border-color:#d2d4d7}.link[_ngcontent-%COMP%]{color:#726052;transition:color .5s ease}"]})}}return i})();function Ke(i,C){if(i&1){let e=A();o(0,"div",6)(1,"div",7)(2,"h2",8),l(3," Ativa\xE7\xE3o Bem-Sucedida! "),s(),o(4,"p",9),l(5),s(),o(6,"button",10),f("click",function(){b(e);let n=d(2);return _(n.redirectToLogin())}),l(7," Ir para Login "),s()()()}if(i&2){let e=d(2);c(5),pe("",e.message,".")}}function Qe(i,C){if(i&1&&(o(0,"div",4),h(1,Ke,8,1,"div",5),s()),i&2){let e=d(),t=K(5);c(),p("ngIf",e.submitted)("ngIfElse",t)}}function Ue(i,C){if(i&1){let e=A();o(0,"div",11)(1,"div",6)(2,"div",7)(3,"h2",12),l(4," Falha na Ativa\xE7\xE3o! "),s(),o(5,"p",9),l(6),s(),o(7,"button",10),f("click",function(){b(e);let n=d();return _(n.isOkay)}),l(8," Tentar novamente "),s()()()()}if(i&2){let e=d();c(6),F(e.message)}}function Ye(i,C){if(i&1){let e=A();o(0,"div",11)(1,"div",6)(2,"div",7)(3,"h2",13),l(4," Ative Sua Conta "),s(),o(5,"p",14),l(6," Digite o c\xF3digo de 6 d\xEDgitos enviado para seu e-mail "),s(),o(7,"code-input",15),f("codeCompleted",function(n){b(e);let a=d();return _(a.onCodeCompleted(n))}),s(),o(8,"button",16),f("click",function(){b(e);let n=d();return _(n.redirectToLogin())}),l(9," Ativar Conta "),s()()()()}i&2&&(c(7),p("isCodeHidden",!1)("codeLength",6))}var Oe=(()=>{class i{constructor(e,t){this.router=e,this.authService=t,this.isOkay=!0,this.submitted=!1,this.message=""}activate(){}redirectToLogin(){this.router.navigate(["login"])}onCodeCompleted(e){this.authService.confirm({token:e}).subscribe({next:t=>{this.message=`Sua conta foi ativada com sucesso.
Agora voc\xEA pode prosseguir para o login`,this.submitted=!0},error:t=>{this.message="O token expirou ou \xE9 inv\xE1lido",this.isOkay=!1}})}static{this.\u0275fac=function(t){return new(t||i)(u(P),u(V))}}static{this.\u0275cmp=v({type:i,selectors:[["app-activate-account"]],decls:6,vars:2,consts:[["activationError",""],["codeForm",""],[1,"background",2,"background-image","url('assets/a.png')"],["class","min-h-screen bg-gradient-to-br flex items-center justify-center",4,"ngIf","ngIfElse"],[1,"min-h-screen","bg-gradient-to-br","flex","items-center","justify-center"],["class","card w-full bg-base-100 max-w-md shadow-xl",4,"ngIf","ngIfElse"],[1,"card","w-full","bg-base-100","max-w-md","shadow-xl"],[1,"card-body"],[1,"text-3xl","font-bold","text-green-500","text-center","bg-a","mb-3"],[1,"text-center","mb-3"],[1,"btn","btn-neutral","w-full","colors",3,"click"],[1,"min-h-screen","bg-gradient-to-br","flex","items-center","justify-center","p-4"],[1,"text-3xl","text-center","font-bold","text-red-600","mb-3"],[1,"text-3xl","font-bold","text-center","mb-3","bg-a"],[1,"text-center","bg-a","mb-3"],[1,"mb-3",3,"codeCompleted","isCodeHidden","codeLength"],[1,"btn","btn-neutral","colors","w-full",3,"click"]],template:function(t,n){if(t&1&&(o(0,"div",2),h(1,Qe,2,2,"div",3)(2,Ue,9,1,"ng-template",null,0,Q)(4,Ye,10,2,"ng-template",null,1,Q),s()),t&2){let a=K(3);c(),p("ngIf",n.isOkay)("ngIfElse",a)}},dependencies:[T,Ee],styles:[".background[_ngcontent-%COMP%]{background-color:#ffffffa4;background-blend-mode:overlay}.bg-base-100[_ngcontent-%COMP%]{background-color:#ffffffc5}.bg-a[_ngcontent-%COMP%]{color:#726052}.colors[_ngcontent-%COMP%]{background-color:#f4f2e9;color:#726052;border-color:#d2d4d7}"],data:{animation:[ve("fadeIn",[_e(":enter",[U({opacity:0,transform:"translateY(20px)"}),be("500ms",U({opacity:1,transform:"translateY(0)"}))])])]}})}}return i})();var Je=[{path:"",redirectTo:"books",pathMatch:"full"},{path:"login",component:Ae},{path:"register",component:Fe},{path:"activate-account",component:Oe},{path:"books",loadChildren:()=>import("./chunk-IMLF6435.mjs").then(i=>i.BookModule),canActivate:[ke]}],Te=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=k({type:i})}static{this.\u0275inj=w({imports:[Y.forRoot(Je),Y]})}}return i})();var Z=(()=>{class i{constructor(){this.title="booklore-ui"}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=v({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(t,n){t&1&&m(0,"router-outlet")},dependencies:[ye]})}}return i})();var Pe=(()=>{class i{constructor(e){this.tokenService=e}intercept(e,t){let n=this.tokenService.token;if(n){let a=e.clone({headers:e.headers.set("Authorization",`Bearer ${n}`)});return t.handle(a).pipe(te(r=>ee(()=>r)))}return t.handle(e)}static{this.\u0275fac=function(t){return new(t||i)(oe(R))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac})}}return i})();var Ve=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=k({type:i,bootstrap:[Z]})}static{this.\u0275inj=w({providers:[me,{provide:ge,useClass:Pe,multi:!0},Ce()],imports:[fe,Te,we,he,Ie]})}}return i})();var Xe=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=k({type:i,bootstrap:[Z]})}static{this.\u0275inj=w({imports:[Ve,xe]})}}return i})();export{Xe as a};
